"use strict";(self.webpackChunkcloset=self.webpackChunkcloset||[]).push([[927],{8927:(h,c,r)=>{r.r(c),r.d(c,{AuthModule:()=>d});var g=r(6814),n=r(95),s=r(7664),t=r(4946),l=r(1302),u=r(6381);const p=[{path:"login",component:(()=>{class e{constructor(){this.fb=(0,t.f3M)(n.qu),this.router=(0,t.f3M)(s.F0),this.apiService=(0,t.f3M)(l.s),this.authService=(0,t.f3M)(u.e),this.loginForm=this.fb.nonNullable.group({email:["",n.kI.required],password:["",n.kI.required]})}ngOnInit(){localStorage.setItem("token",""),this.authService.currentUserSignal.set(null)}onSubmit(){this.apiService.loginUser(this.loginForm.getRawValue()).subscribe(o=>{console.log("form",o),localStorage.setItem("token",o.user.token),this.authService.currentUserSignal.set(o.user),this.router.navigateByUrl("/home")})}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:23,vars:1,consts:[[1,"login"],[1,"form",3,"formGroup","ngSubmit"],[1,"mb-4","sub"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-person-fill"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon1","formControlName","email",1,"form-control"],["id","basic-addon2",1,"input-group-text"],[1,"bi","bi-key-fill"],["type","password","placeholder","Password","aria-label","Password","aria-describedby","basic-addon2","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-dark"],[1,"mt-3"],["routerLink","/signup",1,"anc"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"Welcome Back"),t.qZA(),t.TgZ(4,"h5",2),t._uU(5,"Enter your credentials to login"),t.qZA(),t.TgZ(6,"div",3)(7,"span",4),t._UZ(8,"i",5),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",3)(11,"span",7),t._UZ(12,"i",8),t.qZA(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"button",10),t._uU(15,"Log In"),t.qZA(),t.TgZ(16,"p",11),t._uU(17,"Forgot Password?"),t.qZA(),t.TgZ(18,"p"),t._uU(19," Don't have an account? "),t.TgZ(20,"span")(21,"a",12),t._uU(22,"Sign Up"),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.loginForm))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,s.rH],styles:[".login[_ngcontent-%COMP%]{min-height:80vh;display:flex;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:25px 5px 10px;background-color:#8383838f;border-radius:14px;min-height:49vh}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-size:15px}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:65%;margin:10px 0 0}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:first-child{margin:20px 0 0}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:55%;margin-top:15px}"]})}return e})()},{path:"signup",component:(()=>{class e{constructor(){this.fb=(0,t.f3M)(n.qu),this.router=(0,t.f3M)(s.F0),this.apiService=(0,t.f3M)(l.s),this.authService=(0,t.f3M)(u.e),this.registerForm=this.fb.nonNullable.group({username:["",n.kI.required],email:["",n.kI.required],password:["",n.kI.required]})}ngOnInit(){localStorage.setItem("token",""),this.authService.currentUserSignal.set(null)}onSubmit(){this.apiService.registerUser(this.registerForm.getRawValue()).subscribe(o=>{console.log("form",o),localStorage.setItem("token",o.user.token),this.authService.currentUserSignal.set(o.user),this.router.navigateByUrl("/home")})}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:25,vars:1,consts:[[1,"register"],[1,"form",3,"formGroup","ngSubmit"],[1,"mb-4","sub"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"bi","bi-person-fill"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1","formControlName","username",1,"form-control"],["id","basic-addon2",1,"input-group-text"],[1,"bi","bi-envelope-fill"],["type","email","placeholder","Email","aria-label","Email","aria-describedby","basic-addon2","formControlName","email",1,"form-control"],["id","basic-addon3",1,"input-group-text"],[1,"bi","bi-key-fill"],["type","password","placeholder","Password","aria-label","Password","aria-describedby","basic-addon3","formControlName","password","autocomplete","off",1,"form-control"],["type","submit",1,"btn","btn-dark"],[1,"mt-3"],["routerLink","/login",1,"anc"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"Sign Up"),t.qZA(),t.TgZ(4,"h5",2),t._uU(5,"Create your account"),t.qZA(),t.TgZ(6,"div",3)(7,"span",4),t._UZ(8,"i",5),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",3)(11,"span",7),t._UZ(12,"i",8),t.qZA(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"div",3)(15,"span",10),t._UZ(16,"i",11),t.qZA(),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"button",13),t._uU(19,"Sign Up"),t.qZA(),t.TgZ(20,"p",14),t._uU(21," Already have an account? "),t.TgZ(22,"span")(23,"a",15),t._uU(24,"Log In"),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",a.registerForm))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,s.rH],styles:[".register[_ngcontent-%COMP%]{min-height:80vh;display:flex;justify-content:center;align-items:center}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:25px 5px 10px;background-color:#8383838f;border-radius:14px;min-height:60vh}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-size:15px}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:65%;margin:10px 0 0}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]:first-child{margin:20px 0 0}.register[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:55%;margin-top:15px}"]})}return e})()},{path:"**",redirectTo:"login"}];let m=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(p),s.Bz]})}return e})(),d=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[g.ez,n.UX,m]})}return e})()}}]);